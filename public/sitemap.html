<!DOCTYPE html>
<html lang="en">
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<meta name="description" content="">
	<meta name="author" content="Andre Powroznik, Doughnut Machine Operator, Johnson Controls, Inc.">
	<link rel="icon" href="JC Logo.ico">

	<title>Site Map</title>

	<!-- Bootstrap core CSS -->
	<!-- <link href="https://easyede-dev.azurewebsites.net/css/bootstrap.min.css" rel="stylesheet">-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<link href="styles/bootstrap.css" rel="stylesheet">
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">-->
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">-->

    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>-->
	

	
	
	<!-- Google Fonts call. Font Used Open Sans & Raleway -->
	<link href="http://fonts.googleapis.com/css?family=Raleway:400,300" rel="stylesheet" type="text/css">
  	<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
	


	<style type='text/css'>
	 .table_header_center {
			text-align: center !important;
	  } 

	.center-block1{
		width: 230px;
		margin: 0 auto;
	}
	
    body {
        padding-top: 60px;
		margin-left:10%;
		margin-right:10%;
      }
	  
	.cont {
	text-align:center;
	margin-top:30px;
	} 
	
	.cont ok {
		color:#b2c831;
	}

	.cont bad {
		color:#fa1d2d;
	}
	
	

.dash-unit hr {
  	border: 0;
  	border-top: 1px solid #151515;
  	border-top-style: dashed;
	margin-top:3px;
}

.dash-unit h1 {
	font-family: 'Raleway', sans-serif;
	font-weight:300;
	font-size: 20px;
	line-height: 2px;
	letter-spacing: 0px;
	color: #ffffff;
	padding-top:10px;
	padding-left:5px;
	margin-top:2px;
	text-align:center;
}

.dash-unit h2 {
	font-family: 'Open Sans', sans-serif;
	font-weight: bold;
	font-size: 30px;
	line-height: 26px;
	letter-spacing: 0px;
	color: #ffffff;
	padding-top:10px;
	padding-left:5px;
	margin-top:2px;
	text-align:center;
}


.dash-unit h3 {
	font-weight:300;
	font-size: 15px;
	line-height: 2px;
	letter-spacing: 0px;
	color: #b2c831;
	padding-top:10px;
	padding-left:5px;
	margin-top:2px;
	text-align:center;
}


.dash-unit p {
	font-size: 14px;
	font-weight: 200;
	line-height: 16px;
	color: inherit;
	margin: 0 0 10px;
	padding:5px;
 }

.dash-unit h4 {
	padding-left:5px;
	margin-top:2px;
	font-size: 13px;
	font-weight:lighter;
	line-height: 1;
	letter-spacing: 0px;
	color: #fff;
}

.dash-unit bold{
	font-family: 'Open Sans', sans-serif;
	font-size:26px;
	font-weight:bold;
	color:#fff;
	vertical-align:middle;
}
	
	
	</style>


  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
          <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">
                  <img src="images/JC.png" />
              </a>
              <a class="navbar-brand" href="#">Easy Chiller Connect</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li ><a href="/">Home</a></li>
                  <li>
                    <a href="/EDEIOT">EDE</a>
                  </li>
                  
                  <li>
                    <a href="about">About</a>
                  </li>
                  <li class="active">
                    <a href="sitemap">SiteMap</a>
                  </li>
              </ul>
          </div>
      </div>
  </nav>


	

	<div class="container-fluid" role="main">
	
		<div class="row">

		<div class="col-sm-6 col-lg-3">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Panel 1</h3>
				</div>
				<div class="panel-body">
				<Br>
				<Br>
				
	      		<div class="dash-unit cont">
					<p><bold>13</bold>| Pending Tasks</p>
				</div>
				      <div class="progress">
						  <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
							<span class="sr-only">60% Complete</span>
						  </div>
						</div>
					<Br>
					<Br>
					<Br>
				</div>
			</div>
		</div>
		<div class="col-sm-6 col-lg-3">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Chiller Efficiency</h3>
				</div>
				<div class="panel-body center-block1">
					
					<canvas id="canvas" width="200" height="200">
				
				</div>
			</div>
		</div>
 		<div class="col-sm-6 col-lg-3">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Monthly Alarms</h3>
				</div>
				<div class="panel-body center-block1">
				
					<div class="cont">
						<br>
						<h2> <bold> <div id="ValueEDE">2578</div> </bold> </h2>
						<h4><img src="images/down.png" alt="" >-23.88%</h4>
						<br><br>
					</div>
				
				</div>
			</div>
		</div>		
 		<div class="col-sm-6 col-lg-3">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Production</h3> 
				</div>
				<div class="panel-body center-block1">
				
					<div class="cont">
						<br>
						<h2><bold>145.0K</bold></h2>
						<h4><img src="images/up.png" alt="" > 23.88%</h4>
						<br><br>
					</div>
				
				</div>
			</div>
		</div>

		
	</div><!-- end row-->		
	
	
	
	<div class="row">
		<div class="col-sm-6 col-lg-3">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Temperature Setpoint</h3>
				</div>
				<div class="panel-body center-block1">
					
						<canvas id="gauge"></canvas>
						<div id="console"></div>
					
				</div>
			</div>
		</div>
		<div class="col-sm-6 col-lg-3">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Pressure</h3>
				</div>
				<div class="panel-body center-block1">
					<canvas id="gauge1"></canvas>
					<div id="console1"></div>
				</div>	
			</div>
		</div>
		<div class="col-sm-6 col-lg-3">
			<div class="panel panel-default" >
				<div class="panel-heading">
					<h3 class="panel-title">Primary Current</h3>
				</div>
				<div class="panel-body center-block1">
					<canvas id="gauge2"></canvas>
					<div id="console2"></div>
				</div>	
			</div>
		</div>
		<div class="col-sm-6 col-lg-3">
			<div class="panel panel-default" >
				<div class="panel-heading">
					<h3 class="panel-title">Main Voltage</h3>
				</div>
				<div class="panel-body center-block1">
					<canvas id="gauge3"></canvas>
					<div id="console3"></div>
				</div>	
			</div>
		</div>
	</div><!-- end row-->
	
   <div class="row">
	<div class="panel panel-default" id="panelmaingraph" >
				<div class="panel-heading">
					<h3 class="panel-title" id="graphtitle">Trend</h3>
				</div>
				<div class="panel-body" id="graphboby">
					<div id="graph_container003"></div>
					 					 
				</div>
	</div>
	<div class="panel-body hidden" id="tableboby">
					<div id="div_table">
					</div>
	</div>		
  </div><!-- end row-->

     <div class="row">
	<div class="panel panel-default" id="panelmaingraph" >
				<div class="panel-heading">
					<h3 class="panel-title" id="graphtitle">Trend</h3>
				</div>
				<div class="panel-body" id="graphboby">
					<div id="graph_container001"></div>
					 					 
				</div>
	</div>
	<div class="panel-body hidden" id="tableboby">
					<div id="div_table">
					</div>
	</div>		
  </div><!-- end row-->
</div><!-- /.container -->

<script>
    var myVar=setInterval(function(){myTimer()},2000);
    var i=0;
    var EDE_Value_TempSP=25.3;
    var EDE_Value_Pressure=70;
</script>




	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
	

	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<!--<script src="https://easyede-dev.azurewebsites.net/js/ie10-viewport-bug-workaround.js"></script>-->

	<!-- Google Charts JavaScript -->
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>

	
	
	<!-- Flat Gauge -->
	<script src="scripts/flatgauge.js"></script>
	
	<!-- Analog Gauge -->
	<script src="scripts/gauge.min.js"></script>
	
	<script src="https://code.highcharts.com/highcharts.js"></script>
	<script src="https://code.highcharts.com/modules/exporting.js"></script>
	
	<script>

		$(document).ready(function() {	

			showGauge();
			showGauge1();
			showGauge2();
			showGauge3();
			showGraph001();
			showGraph003();

                
        }); 

    </script>
	
	
<script>
function showGauge() {

	var gauge = new Gauge({
		renderTo    : 'gauge',
		//width       : 300,
		//height      : 300,
		glow        : true,
		units       : 'C',
		title       : false,
		minValue    : 0,
		maxValue    : 50,
		majorTicks  : ['0','10','20','30','40','50'],
		minorTicks  : 2,
		strokeTicks : false,
		highlights  : [
			{ from : 0,   to : 30, color : 'rgba(0,   255, 0, .15)' },
			{ from : 30, to : 50, color : 'rgba(255, 255, 0, .15)' },
			{ from : 100, to : 150, color : 'rgba(255, 30,  0, .25)' },
			{ from : 150, to : 200, color : 'rgba(255, 0,  225, .25)' },
			{ from : 200, to : 220, color : 'rgba(0, 0,  255, .25)' }
		],
		colors      : {
			plate      : '#222',
			majorTicks : '#f5f5f5',
			minorTicks : '#ddd',
			title      : '#fff',
			units      : '#ccc',
			numbers    : '#eee',
			needle     : { start : 'rgba(240, 128, 128, 1)', end : 'rgba(255, 160, 122, .9)' }
		}
	});

	gauge.onready = function() {
		setInterval( function() {
			//gauge.setValue( Math.random() * 100);
            gauge.setValue(EDE_Value_TempSP);
		}, 2000);
	};

	gauge.draw();
};

function showGauge1() {

	var gauge = new Gauge({
		renderTo    : 'gauge1',
		//width       : 300,
		//height      : 300,
		glow        : true,
		units       : 'Bar',
		title       : false,
		minValue    : 0,
		maxValue    : 220,
		majorTicks  : ['0','20','40','60','80','100','120','140','160','180','200','220'],
		minorTicks  : 2,
		strokeTicks : false,
		highlights  : [
			{ from : 0,   to : 50, color : 'rgba(0,   255, 0, .15)' },
			{ from : 50, to : 100, color : 'rgba(255, 255, 0, .15)' },
			{ from : 100, to : 150, color : 'rgba(255, 30,  0, .25)' },
			{ from : 150, to : 200, color : 'rgba(255, 0,  225, .25)' },
			{ from : 200, to : 220, color : 'rgba(0, 0,  255, .25)' }
		],
		colors      : {
			plate      : '#222',
			majorTicks : '#f5f5f5',
			minorTicks : '#ddd',
			title      : '#fff',
			units      : '#ccc',
			numbers    : '#eee',
			needle     : { start : 'rgba(240, 128, 128, 1)', end : 'rgba(255, 160, 122, .9)' }
		}
	});

	gauge.onready = function() {
		setInterval( function() {
			gauge.setValue(EDE_Value_Pressure);
			//gauge.setValue( Math.random() * 220);
		}, 3500);
	};

	gauge.draw();
};
function showGauge2() {

	var gauge = new Gauge({
		renderTo    : 'gauge2',
		//width       : 300,
		//height      : 300,
		glow        : true,
		units       : 'A',
		title       : false,
		minValue    : 0,
		maxValue    : 260,
		majorTicks  : ['0','20','40','60','80','100','120','140','160','180','200','220','240','260'],
		minorTicks  : 2,
		strokeTicks : false,
		highlights  : [
			{ from : 0,   to : 50, color : 'rgba(0,   255, 0, .15)' },
			{ from : 50, to : 100, color : 'rgba(255, 255, 0, .15)' },
			{ from : 100, to : 150, color : 'rgba(255, 30,  0, .25)' },
			{ from : 150, to : 200, color : 'rgba(255, 0,  225, .25)' },
			{ from : 200, to : 260, color : 'rgba(0, 0,  255, .25)' }
		],
		colors      : {
			plate      : '#222',
			majorTicks : '#f5f5f5',
			minorTicks : '#ddd',
			title      : '#fff',
			units      : '#ccc',
			numbers    : '#eee',
			needle     : { start : 'rgba(240, 128, 128, 1)', end : 'rgba(255, 160, 122, .9)' }
		}
	});

	gauge.onready = function() {
		setInterval( function() {
			gauge.setValue( Math.random() * 260);
		}, 4000);
	};

	gauge.draw();
};
function showGauge3() {

	var gauge = new Gauge({
		renderTo    : 'gauge3',
		//width       : 300,
		//height      : 300,
		glow        : true,
		units       : 'V',
		title       : false,
		minValue    : 0,
		maxValue    : 220,
		majorTicks  : ['0','40','80','120','160','200','260','300'],
		minorTicks  : 2,
		strokeTicks : false,
		highlights  : [
			{ from : 0,   to : 50, color : 'rgba(0,   255, 0, .15)' },
			{ from : 50, to : 100, color : 'rgba(255, 255, 0, .15)' },
			{ from : 100, to : 150, color : 'rgba(255, 30,  0, .25)' },
			{ from : 150, to : 200, color : 'rgba(255, 0,  225, .25)' },
			{ from : 200, to : 300, color : 'rgba(0, 0,  255, .25)' }
		],
		colors      : {
			plate      : '#222',
			majorTicks : '#f5f5f5',
			minorTicks : '#ddd',
			title      : '#fff',
			units      : '#ccc',
			numbers    : '#eee',
			needle     : { start : 'rgba(240, 128, 128, 1)', end : 'rgba(255, 160, 122, .9)' }
		}
	});

	gauge.onready = function() {
		setInterval( function() {
			gauge.setValue( Math.random() * 300);
		}, 3000);
	};

	gauge.draw();
};
</script>

<script>

function showGraph001() {
	Highcharts.chart('graph_container001', {
    chart: {
        type: 'line',			
		backgroundColor: "#000000",
		borderColor: "#335cad"
    },
    title: {
        text: 'Monthly Average Temperature'
    },
    subtitle: {
        text: 'JCI Italy'
    },
    xAxis: {
        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
    },
    yAxis: {
        title: {
            text: 'Temperature (Â°C)'
        }
    },
    plotOptions: {
        line: {
            dataLabels: {
                enabled: true
            },
            enableMouseTracking: false
        }
    },
    series: [{
        name: 'Rome Office',
        data: [7.0, 6.9, 9.5, 14.5, 18.4, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
    }, {
        name: 'Milan Office',
        data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
    }]
});
  }	
</script>


<script>

function showGraph002() {
	Highcharts.chart('graph_container001', {
		chart: {
			type: 'area',
			backgroundColor: "#000000",
			borderColor: "#335cad"
		},
		title: {
			text: 'Historic and Estimated Worldwide Population Distribution by Region',
			style: {
				color: '#ffffff',
				fontWeight: 'bold',
				fontSize: '12px',
				fontFamily: 'Trebuchet MS, Verdana, sans-serif'
         	}            
		},
		subtitle: {
			text: 'Source: Wikipedia.org',
			style: {
				color: '#A0A0A0',
				fontSize: '12px',
				fontFamily: 'Trebuchet MS, Verdana, sans-serif'
         	}   
		},
		legend: {
              itemStyle: {
                 color: '#A0A0A0'
				 }
        },
		xAxis: {
			categories: ['1750', '1800', '1850', '1900', '1950', '1999', '2050'],
			tickmarkPlacement: 'on',
			title: {
				enabled: false
			},
			labels: {
                style: {
                    color: 'white',
                    fontSize:'12px'
                	}
				}
		},
		yAxis: {
			title: {
				text: 'Percent',
				style:{
                    color: 'white',
                    fontSize: '12px',
					fontFamily: 'Trebuchet MS, Verdana, sans-serif'
                }
			},	
			labels: {
                style: {
                    color: 'white',
                    fontSize:'12px'
                	}
				}	
		},
		tooltip: {
			pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.0f} millions)<br/>',
			split: true
		},
		plotOptions: {
			area: {
				stacking: 'percent',
				lineColor: '#ffffff',
				lineWidth: 1,
				marker: {
					lineWidth: 1,
					lineColor: '#ffffff'
				}
			}
		},

		credits: {
			enabled: false,
			href: "http://www.highcharts.com"
		},


		series: [{
			name: 'Asia',
			data: [502, 635, 809, 947, 1402, 3634, 5268]
		}, {
			name: 'Africa',
			data: [106, 107, 111, 133, 221, 767, 1766]
		}, {
			name: 'Europe',
			data: [163, 203, 276, 408, 547, 729, 628]
		}, {
			name: 'America',
			data: [18, 31, 54, 156, 339, 818, 1201]
		}, {
			name: 'Oceania',
			data: [2, 2, 2, 6, 13, 30, 46]
		}]
	});
};	


function showGraph003() {

 Highcharts.setOptions({
        global: {
            useUTC: false
        }
    });

    Highcharts.chart('graph_container003', {
        chart: {
            type: 'spline',
            animation: Highcharts.svg, // don't animate in old IE
            marginRight: 10,
			backgroundColor: "#000000",
			borderColor: "#335cad",
            events: {
                load: function () {

                    // set up the updating of the chart each second
                    var series = this.series[0];
                    setInterval(function () {
                        var x = (new Date()).getTime(), // current time
							y = EDE_Value_TempSP;
                            //y = Math.random();
                        series.addPoint([x, y], true, true);
                    }, 1000);
                }
            }
        },
        title: {
            text: 'Live Temperature'
        },
        xAxis: {
            type: 'datetime',
            tickPixelInterval: 150
        },
        yAxis: {
            title: {
                text: 'Value'
            },

			max: 35,
			min: 0,
			

            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]

    	},
       
        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + '</b><br/>' +
                    Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                    Highcharts.numberFormat(this.y, 2);
            }
        },
        legend: {
            enabled: false
        },
        exporting: {
            enabled: false
        },
		credits: {
			enabled: false,
			href: "http://www.highcharts.com"
		},
        series: [{
            name: 'temperature',
            data: (function () {
                // generate an array of random data
                var data = [],
                    time = (new Date()).getTime(),
                    i;

                for (i = -19; i <= 0; i += 1) {
                    data.push({
                        x: time + i * 1000,
						y:EDE_Value_TempSP
                        //y: Math.random()
                    });
                }
                return data;
            }())
        }]
    });
};
</script>


<script>
async function getData() {
  //const url ="https://api.openweathermap.org/data/2.5/weather?lat=33.44&lon=-94.04&appid={{API_key}}"
  const url ="http://ip-api.com/json/208.80.152.201"
  //const url = "https://example.org/products.json";
  try {
    const response = await fetch(url);
    if (!response.ok) {
      throw new Error(`Response status: ${response.status}`);
    }

    const json = await response.json();
    console.log(json);
  } catch (error) {
    console.error(error.message);
  }
}





function myTimer()
{	

		i++;
    console.log("In the timer function trying to get data")
    getData();

		//refresh_table();
    /*
        $.ajax({
                type: "GET",
                url: "http://sisedemos.ddns.net:9090/services/ede/items/60/value",
                crossDomain: true,
                dataType: "JSON",
                contentType:"application/json; charset=utf-8",
            
                success: function(data) {
                        EDE_Value_TempSP=parseFloat(data.item.value);
                        //$( "#ValueEDE" ).text(EDE_Value_TempSP);
                },

                failure: function (err) {
                    alert("err");                        
                }
 
            });
			//refresh_table();
        $.ajax({
                type: "GET",
                url: "http://sisedemos.ddns.net:9090/services/ede/items/71/value",
                crossDomain: true,
                dataType: "JSON",
                contentType:"application/json; charset=utf-8",
            
                success: function(data) {
                        EDE_Value_Pressure=parseFloat(data.item.value);
                        //$( "#ValueEDE" ).text(EDE_Value_TempSP);
                },

                failure: function (err) {
                    alert("err");                        
                }
 
            });
		*/
}

</script>
</body>
</html>


